# Benchmark & FP16/INT8 Evaluation
1. FP16 / INT8 YOLOv8(n/s/m) 모델 벤치마크용 C++ 코드 정리
   - RKNN 기반 YOLOv8(n/s/m) 모델 벤치마크용 C++ 코드 정리
   - FP16, INT8 모델 공통으로 사용 가능한
     * Letterbox 전처리
     * NMS
     * Precision/Recall/F1 계산 로직 정리
   - INT8 코드에서 사용하던 COCO 방식 mAP 계산 로직을 FP16 코드에도 동일하게 이식

2. COCO mAP@50 / mAP@50-95 계산 로직 통합
   - 기존 mAP@50 단일 계산에서 확장하여
     * calculate_map_at_iou(...)
     * calculate_map_coco_50(...)
     * calculate_map_coco_50_95(...)
   - COCO 기준
     * IoU 0.50 ~ 0.95(step 0.05)
     * 11-point interpolation 방식
   - FP16 / INT8 모두 동일한 평가 기준으로 비교 가능하도록 통일
  
3. FP16 YOLOv8 입력 색공간(-rgb) 옵션 검증
   - 기존 FP16 벤치마크 코드에 --rgb 옵션이 적용되지 않은 상태임을 확인
   - 수정 내용
     * CLI 옵션 --rgb 파싱 추가
     * Letterbox 단계에서 cvtColor(BGR -> RGB) 선택적 사용
     * 벤치마크 헤더에 RGB Input: ON / OFF 명시 출력
   - 디버깅을 통해 실제 입력 픽셀 값이 RGB로 변경됨을 확인

4. FP16 YOLOv8n 성능 비교(conf=0.2)
   - BGR
     * Precision 0.8132
     * Recall 0.8076
     * F1 Score 0.8104
     * mAP@50 0.7752
     * mAP@50-95 0.5086
   - RGB
     * Precision 0.7950
     * Recall 0.8424
     * F1 Score 0.8180
     * mAP@50 0.7791
     * mAP@50-95 0.5374
   - RGB 입력 시
     * Recall 및 F1 Score 상승
     * mAP@50-95가 유의미하게 개선
   - 결론
     * FP16 YOLOv8n 모델은 본 데이터셋 기준 RGB 입력이 더 적합
     * 이후 FP16 / INT8 비교 실험은 RGB 전처리를 표준으로 사용
    
5. YOLOv8 INT8(Preset B) 벤치마크 결과 확보
   - Preset A(7-keys)에서 score collapse 및 성능 저하 확인
   - Preset B(7 + @ keys) 추가 구성 후 재실험
     * 입력 INT8 quantization 방식 수정
     * score 분포 정상화 확인
   - YOLOv8m INT8(Preset B) 결과
     * mAP@50 = 0.79
     * mAP@50-95 = 0.40
     * FPS = 15.7
   - Preset 변경이 성능에 미치는 영향 명확히 확인
  
6. 대형 모델(Large) 변환 이슈 확인
   - 워크스테이션에서 YOLOv8 Large 모델 RKNN 변환 시
     * 시스템 리부트 발생
   - Medium 모델까지는 정상 변환 가능
   - 추후
     * 메모리/스왑/변환 옵션 분리
     * 또는 서버 환경에서 변환 필요성 검토 예정
    
7. 현재 상태 요약
   - FP16 / INT8 각각 벤치마크 코드 완성
   - COCO mAP@50 / 50-95 완전 정렬
   - RGB / BGR 전처리 차이에 따른 성능 영향 실험 완료
   - Conf Threshold 0.1 / 0.2 / 0.3 각각 성능 확인하여 용도별 적합 수치 확인
   - 논문 / 기술 보고서용 수치 신뢰성 확보 단계 진입
